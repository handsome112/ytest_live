'use strict';const a56_0x3ff9=['resetMessageState','@lib/redux','19134UjAKsk','fetchingMessage','./actions','totalNotSeenMessages','activeConversation','124140qYOLeF','266WXjplK','requesting','forEach','push','error','total','map','payload','getConversationsFail','merge','unshift','620974rxfbvK','conversation','items','conversationId','__esModule','loadMoreMessagesSuccess','getConversationDetailSuccess','loadMessagesSuccess','setActiveConversationSuccess','data','getConversations','find','createReducers','sendMessageFail','sendMessageSuccess','list','includes','lastMessageCreatedAt','_id','1yTZyPQ','sendMessage','defineProperty','concat','readMessages','reverse','updateLastMessage','default','402827SRFaLX','86017JkmRnl','7WCjrFy','success','conversationMap','assign','710tCuFGB','657226XLzUuJ','lodash','sentFileSuccess'];const a56_0x15eaf2=a56_0x2b45;function a56_0x2b45(_0x3e03c8,_0x5980d0){return a56_0x2b45=function(_0x3ff9e5,_0x2b453b){_0x3ff9e5=_0x3ff9e5-0x14d;let _0xc4c7a2=a56_0x3ff9[_0x3ff9e5];return _0xc4c7a2;},a56_0x2b45(_0x3e03c8,_0x5980d0);}(function(_0x72afdd,_0x79dba0){const _0x35264b=a56_0x2b45;while(!![]){try{const _0x5453a8=parseInt(_0x35264b(0x15f))+parseInt(_0x35264b(0x155))*-parseInt(_0x35264b(0x154))+-parseInt(_0x35264b(0x164))+-parseInt(_0x35264b(0x183))*-parseInt(_0x35264b(0x15a))+-parseInt(_0x35264b(0x153))+parseInt(_0x35264b(0x159))*parseInt(_0x35264b(0x165))+parseInt(_0x35264b(0x170));if(_0x5453a8===_0x79dba0)break;else _0x72afdd['push'](_0x72afdd['shift']());}catch(_0x2ddbba){_0x72afdd['push'](_0x72afdd['shift']());}}}(a56_0x3ff9,0x572f4));Object[a56_0x15eaf2(0x14d)](exports,a56_0x15eaf2(0x174),{'value':!![]});const lodash_1=require(a56_0x15eaf2(0x15b)),redux_1=require(a56_0x15eaf2(0x15e)),actions_1=require(a56_0x15eaf2(0x161)),initialConversationState={'list':{'requesting':![],'error':null,'data':[],'total':0x0,'success':![]},'mapping':{},'activeConversation':{}},initialMessageState={'conversationMap':{},'sendMessage':{},'receiveMessage':{},'totalNotReadMessage':0x0},conversationReducer=[{'on':actions_1[a56_0x15eaf2(0x15d)],'reducer'(_0x2a26fe){const _0x343a31=a56_0x15eaf2;let {list:_0x3710b6,mapping:_0x3d2d8d,activeConversation:_0x37c8e5}=_0x2a26fe;return _0x3710b6={'requesting':![],'error':null,'data':[],'total':0x0,'success':![]},_0x3d2d8d={},_0x37c8e5={},Object[_0x343a31(0x158)](Object[_0x343a31(0x158)]({},_0x2a26fe),{'list':_0x3710b6,'mapping':_0x3d2d8d,'activeConversation':_0x37c8e5});}},{'on':actions_1[a56_0x15eaf2(0x17a)],'reducer'(_0x526eb4){const _0x16eb8e=a56_0x15eaf2,_0x2457c2=Object[_0x16eb8e(0x158)]({},_0x526eb4);return _0x2457c2['list']['requesting']=!![],Object[_0x16eb8e(0x158)]({},_0x2457c2);}},{'on':actions_1['getConversationsSuccess'],'reducer'(_0x3cb68d,_0xb57957){const _0x20346f=a56_0x15eaf2,_0x395eb0=Object['assign']({},_0x3cb68d),{list:_0x4c6640,mapping:_0x1d757d}=_0x395eb0,{data:_0x482a86,total:_0x1d8a23}=_0xb57957[_0x20346f(0x16c)],_0x3d63df=_0x482a86[_0x20346f(0x16b)](_0x22decf=>_0x22decf[_0x20346f(0x182)]);return _0x4c6640[_0x20346f(0x179)]=_0x4c6640[_0x20346f(0x179)][_0x20346f(0x14e)](_0x3d63df),_0x4c6640[_0x20346f(0x16a)]=_0x1d8a23,_0x4c6640['success']=!![],_0x4c6640[_0x20346f(0x166)]=![],_0x4c6640[_0x20346f(0x169)]=![],_0x482a86[_0x20346f(0x167)](_0x2a02f0=>{const _0x8284c2=_0x20346f;_0x1d757d[_0x2a02f0[_0x8284c2(0x182)]]=_0x2a02f0;}),Object[_0x20346f(0x158)]({},_0x395eb0);}},{'on':actions_1[a56_0x15eaf2(0x16d)],'reducer'(_0x292294,_0xc824d8){const _0x12d99b=a56_0x15eaf2,_0x323e9e=Object['assign']({},_0x292294);return Object[_0x12d99b(0x158)](Object['assign']({},_0x323e9e),{'list':{'requesting':![],'error':_0xc824d8[_0x12d99b(0x16c)],'data':[],'total':0x0,'success':![]},'mapping':{},'activeConversation':{}});}},{'on':actions_1['searchConversations'],'reducer'(_0x9b8243){const _0x3688e9=a56_0x15eaf2,_0x11e69d=Object[_0x3688e9(0x158)]({},_0x9b8243);return Object['assign'](Object[_0x3688e9(0x158)]({},_0x11e69d),{'list':{'requesting':!![],'error':null,'data':[],'total':0x0,'success':![]},'mapping':{},'activeConversation':{}});}},{'on':actions_1['searchConversationsSuccess'],'reducer'(_0x47f43b,_0x43b9c8){const _0xc9e750=a56_0x15eaf2,_0x37ab31=Object[_0xc9e750(0x158)]({},_0x47f43b),{list:_0x34ac62,mapping:_0x569d56}=_0x37ab31,{data:_0xda7c6f,total:_0x5c5b8a}=_0x43b9c8[_0xc9e750(0x16c)],_0x57507d=_0xda7c6f['map'](_0x1c204f=>_0x1c204f[_0xc9e750(0x182)]);return _0x34ac62[_0xc9e750(0x179)]=_0x57507d,_0x34ac62[_0xc9e750(0x16a)]=_0x5c5b8a,_0x34ac62[_0xc9e750(0x156)]=!![],_0x34ac62[_0xc9e750(0x166)]=![],_0x34ac62[_0xc9e750(0x169)]=![],_0xda7c6f[_0xc9e750(0x167)](_0x23f2e9=>{const _0x2b2db1=_0xc9e750;_0x569d56[_0x23f2e9[_0x2b2db1(0x182)]]=_0x23f2e9;}),Object['assign']({},_0x37ab31);}},{'on':actions_1['searchConversationsFail'],'reducer'(_0x378161,_0x9f0d62){const _0x45820c=a56_0x15eaf2,_0x526d26=Object[_0x45820c(0x158)]({},_0x378161);return Object[_0x45820c(0x158)](Object[_0x45820c(0x158)]({},_0x526d26),{'list':{'requesting':![],'error':_0x9f0d62['payload'],'data':[],'total':0x0,'success':![]},'mapping':{},'activeConversation':{}});}},{'on':actions_1[a56_0x15eaf2(0x178)],'reducer'(_0x438ceb,_0x394c09){const _0x39f4f4=a56_0x15eaf2,_0x4c043b=_0x394c09[_0x39f4f4(0x16c)],_0x5d2d44=_0x438ceb[_0x39f4f4(0x17f)]['data'],{mapping:_0x4742e5}=_0x438ceb,_0x26dc96=_0x5d2d44[_0x39f4f4(0x17b)](_0x4d3782=>_0x4d3782===_0x4c043b[_0x39f4f4(0x182)]);return!_0x26dc96&&(_0x5d2d44[_0x39f4f4(0x16f)](_0x4c043b['_id']),_0x4742e5[_0x4c043b[_0x39f4f4(0x182)]]=_0x4c043b),Object[_0x39f4f4(0x158)](Object[_0x39f4f4(0x158)]({},_0x438ceb),{'activeConversation':_0x4c043b});}},{'on':actions_1[a56_0x15eaf2(0x176)],'reducer'(_0xc77803,_0x4c93d5){const _0x42f633=a56_0x15eaf2,{list:_0x44d0b3,mapping:_0x55081a}=_0xc77803,_0x107381=_0x4c93d5[_0x42f633(0x16c)];return!_0x44d0b3[_0x42f633(0x179)][_0x42f633(0x180)](_0x107381[_0x42f633(0x182)])&&(_0x44d0b3[_0x42f633(0x179)][_0x42f633(0x16f)](_0x107381[_0x42f633(0x182)]),_0x55081a[_0x107381[_0x42f633(0x182)]]=_0x107381),Object['assign']({},_0xc77803);}},{'on':actions_1[a56_0x15eaf2(0x14f)],'reducer'(_0x1562cb,_0x2d7620){const _0x44176b=a56_0x15eaf2,_0xd4bdfe=_0x2d7620['payload'],{mapping:_0xeaafc8}=_0x1562cb;return _0xeaafc8[_0xd4bdfe]['totalNotSeenMessages']=0x0,Object[_0x44176b(0x158)]({},_0x1562cb);}},{'on':actions_1['deactiveConversation'],'reducer'(_0x4443e1){const _0x53ff98=a56_0x15eaf2,_0x275146=Object[_0x53ff98(0x158)]({},_0x4443e1);return _0x275146[_0x53ff98(0x163)]={},Object[_0x53ff98(0x158)]({},_0x275146);}},{'on':actions_1[a56_0x15eaf2(0x151)],'reducer'(_0x413695,_0x388e2d){const _0x499a12=a56_0x15eaf2,{conversationId:_0x1beea2,lastMessage:_0x488869}=_0x388e2d[_0x499a12(0x16c)],{mapping:_0xab12a3}=_0x413695;return _0xab12a3[_0x1beea2]&&(_0xab12a3[_0x1beea2]['lastMessage']=_0x488869,_0xab12a3[_0x1beea2][_0x499a12(0x181)]=new Date(),_0xab12a3[_0x1beea2][_0x499a12(0x162)]=0x0),Object['assign']({},_0x413695);}}],messageReducer=[{'on':actions_1[a56_0x15eaf2(0x160)],'reducer'(_0x10db7c,_0x322d92){const _0x174969=a56_0x15eaf2,{conversationMap:_0x4d4acf}=_0x10db7c,{conversationId:_0x27d71a}=_0x322d92['payload'];return _0x4d4acf[_0x27d71a]=Object[_0x174969(0x158)](Object[_0x174969(0x158)]({},_0x4d4acf[_0x27d71a]),{'fetching':!![]}),Object['assign']({},_0x10db7c);}},{'on':actions_1[a56_0x15eaf2(0x177)],'reducer'(_0xaf6ca0,_0x5a4cc2){const _0x59a9d8=a56_0x15eaf2,{conversationMap:_0x3623f9}=_0xaf6ca0,{conversationId:_0x3026ad,items:_0x4f8918,total:_0xec7b74}=_0x5a4cc2[_0x59a9d8(0x16c)];return _0x3623f9[_0x3026ad]={'items':[..._0x4f8918[_0x59a9d8(0x150)]()],'total':_0xec7b74,'fetching':![]},Object[_0x59a9d8(0x158)]({},_0xaf6ca0);}},{'on':actions_1[a56_0x15eaf2(0x175)],'reducer'(_0x2b8b9f,_0x5a002d){const _0x5ec7da=a56_0x15eaf2,{conversationMap:_0x1650b7}=_0x2b8b9f,{conversationId:_0x4d84c0,items:_0x3eba5e,total:_0x2ce336}=_0x5a002d[_0x5ec7da(0x16c)];return _0x1650b7[_0x4d84c0]={'items':[..._0x3eba5e[_0x5ec7da(0x150)](),..._0x1650b7[_0x4d84c0][_0x5ec7da(0x172)]||[]],'total':_0x2ce336,'fetching':![]},Object[_0x5ec7da(0x158)]({},_0x2b8b9f);}},{'on':actions_1[a56_0x15eaf2(0x184)],'reducer'(_0x2c8020){const _0x1fa420=a56_0x15eaf2;return Object['assign'](Object[_0x1fa420(0x158)]({},_0x2c8020),{'sendMessage':{'sending':!![]}});}},{'on':actions_1[a56_0x15eaf2(0x17e)],'reducer'(_0x27439f,_0x280d60){const _0xbe0421=a56_0x15eaf2,_0x10b908=Object[_0xbe0421(0x158)]({},_0x27439f);return(!_0x10b908[_0xbe0421(0x157)][_0x280d60[_0xbe0421(0x16c)][_0xbe0421(0x173)]]||!_0x10b908[_0xbe0421(0x157)][_0x280d60[_0xbe0421(0x16c)]['conversationId']]['items'])&&(_0x10b908['conversationMap'][_0x280d60['payload'][_0xbe0421(0x173)]][_0xbe0421(0x172)]=[]),_0x10b908['conversationMap'][_0x280d60[_0xbe0421(0x16c)]['conversationId']]['items'][_0xbe0421(0x168)](_0x280d60[_0xbe0421(0x16c)]),Object[_0xbe0421(0x158)](Object['assign']({},_0x10b908),{'sendMessage':{'sending':![],'success':!![],'data':_0x280d60['payload']}});}},{'on':actions_1[a56_0x15eaf2(0x17d)],'reducer'(_0x581a0c,_0x83929a){const _0x398a63=a56_0x15eaf2;return Object[_0x398a63(0x158)](Object['assign']({},_0x581a0c),{'sendMessage':{'sending':![],'success':![],'error':_0x83929a[_0x398a63(0x16c)]}});}},{'on':actions_1['receiveMessageSuccess'],'reducer'(_0x31a421,_0x47b210){const _0x54fcd2=a56_0x15eaf2,_0x2efd91=Object['assign']({},_0x31a421);if(!_0x2efd91[_0x54fcd2(0x157)][_0x47b210[_0x54fcd2(0x16c)]['conversationId']])return Object[_0x54fcd2(0x158)]({},_0x2efd91);return _0x2efd91[_0x54fcd2(0x157)][_0x47b210['payload']['conversationId']][_0x54fcd2(0x172)][_0x54fcd2(0x168)](_0x47b210[_0x54fcd2(0x16c)]),Object[_0x54fcd2(0x158)](Object['assign']({},_0x2efd91),{'receiveMessage':_0x47b210[_0x54fcd2(0x16c)]});}},{'on':actions_1[a56_0x15eaf2(0x15c)],'reducer'(_0x22ec6a,_0x375566){const _0x227b5c=a56_0x15eaf2,_0x2fc4b1=Object[_0x227b5c(0x158)]({},_0x22ec6a);return(!_0x2fc4b1['conversationMap'][_0x375566[_0x227b5c(0x16c)]['conversationId']]||!_0x2fc4b1['conversationMap'][_0x375566['payload'][_0x227b5c(0x173)]]['items'])&&(_0x2fc4b1[_0x227b5c(0x157)][_0x375566[_0x227b5c(0x16c)][_0x227b5c(0x173)]]['items']=[]),_0x2fc4b1[_0x227b5c(0x157)][_0x375566[_0x227b5c(0x16c)][_0x227b5c(0x173)]]['items'][_0x227b5c(0x168)](_0x375566['payload']),Object['assign'](Object[_0x227b5c(0x158)]({},_0x2fc4b1),{'sendMessage':{'sending':![],'success':!![],'data':_0x375566['payload']}});}},{'on':actions_1['countNotReadMessage'],'reducer'(_0x4986ec,_0x4170ee){const _0x48a410=a56_0x15eaf2;return Object[_0x48a410(0x158)](Object[_0x48a410(0x158)]({},_0x4986ec),{'totalNotReadMessage':_0x4170ee[_0x48a410(0x16c)]});}}];exports[a56_0x15eaf2(0x152)]=lodash_1[a56_0x15eaf2(0x16e)]({},redux_1[a56_0x15eaf2(0x17c)](a56_0x15eaf2(0x171),[conversationReducer],initialConversationState),redux_1[a56_0x15eaf2(0x17c)]('message',[messageReducer],initialMessageState));