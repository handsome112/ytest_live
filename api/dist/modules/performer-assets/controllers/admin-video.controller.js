'use strict';const a368_0x26b4=['Delete','uploadVideo','admin','HttpStatus','jwToken','updateInfo','search','videoSearchService','73RZCjFI','thumbnail','Body','getConfig','Roles','../../auth/decorators','CurrentUser','AdminPerformerVideosController','performer-video-thumbnail','__param','../payloads/video-create.payload','/:id','RoleGuard','adminSearch','50854iMDdpo','videoProtectedDir','/:id/view','defineProperty','35800YDCmZq','prototype','object','PerformerDto','../services/video-search.service','performer-trailer-video','getDetails','@nestjs/common','create','file','VideoSearchService','69149QzTjps','../services/video.service','DataResponse','imageDir','Param','details','admin/performer-assets/videos','decorate','design:type','performer-video','MultiFileUploadInterceptor','video','videoThumbnail','HttpCode','delete','__esModule','Query','Request','image','__metadata','UseGuards','../../../kernel','videoService','132689lBYSPQ','/search','UseInterceptors','FilesUploaded','design:returntype','219vjdRvf','../../file','design:paramtypes','metadata','__decorate','100826PhVLKR','trailer','68466ECoEhQ','Injectable','remove','function','getOwnPropertyDescriptor','Controller','Post','Get','../../performer/dtos','videoDir'];const a368_0x7063ac=a368_0x4e01;(function(_0x438eec,_0x1e6b06){const _0x3f294f=a368_0x4e01;while(!![]){try{const _0x33cf76=parseInt(_0x3f294f(0x12c))+-parseInt(_0x3f294f(0x10f))*-parseInt(_0x3f294f(0x148))+parseInt(_0x3f294f(0xfd))+parseInt(_0x3f294f(0x121))+parseInt(_0x3f294f(0xfb))+-parseInt(_0x3f294f(0x11d))+-parseInt(_0x3f294f(0x143));if(_0x33cf76===_0x1e6b06)break;else _0x438eec['push'](_0x438eec['shift']());}catch(_0xa34a26){_0x438eec['push'](_0x438eec['shift']());}}}(a368_0x26b4,0x1a0bd));var __decorate=this&&this[a368_0x7063ac(0xfa)]||function(_0x43b397,_0x22bd85,_0x580db2,_0x1bbfd8){const _0xbe8712=a368_0x7063ac;var _0x102641=arguments['length'],_0x2b2d24=_0x102641<0x3?_0x22bd85:_0x1bbfd8===null?_0x1bbfd8=Object[_0xbe8712(0x101)](_0x22bd85,_0x580db2):_0x1bbfd8,_0x238228;if(typeof Reflect==='object'&&typeof Reflect[_0xbe8712(0x133)]===_0xbe8712(0x100))_0x2b2d24=Reflect[_0xbe8712(0x133)](_0x43b397,_0x22bd85,_0x580db2,_0x1bbfd8);else{for(var _0x1cb59e=_0x43b397['length']-0x1;_0x1cb59e>=0x0;_0x1cb59e--)if(_0x238228=_0x43b397[_0x1cb59e])_0x2b2d24=(_0x102641<0x3?_0x238228(_0x2b2d24):_0x102641>0x3?_0x238228(_0x22bd85,_0x580db2,_0x2b2d24):_0x238228(_0x22bd85,_0x580db2))||_0x2b2d24;}return _0x102641>0x3&&_0x2b2d24&&Object[_0xbe8712(0x120)](_0x22bd85,_0x580db2,_0x2b2d24),_0x2b2d24;},__metadata=this&&this[a368_0x7063ac(0x13f)]||function(_0x2c89d3,_0x4f1246){const _0x504fe1=a368_0x7063ac;if(typeof Reflect===_0x504fe1(0x123)&&typeof Reflect[_0x504fe1(0xf9)]===_0x504fe1(0x100))return Reflect[_0x504fe1(0xf9)](_0x2c89d3,_0x4f1246);},__param=this&&this[a368_0x7063ac(0x118)]||function(_0x3120ed,_0x41f389){return function(_0x47c2cf,_0x1530ed){_0x41f389(_0x47c2cf,_0x1530ed,_0x3120ed);};};Object['defineProperty'](exports,a368_0x7063ac(0x13b),{'value':!![]}),exports['AdminPerformerVideosController']=void 0x0;function a368_0x4e01(_0x4e8ae7,_0x1f9fd4){return a368_0x4e01=function(_0x26b4c3,_0x4e017b){_0x26b4c3=_0x26b4c3-0xf8;let _0x29d555=a368_0x26b4[_0x26b4c3];return _0x29d555;},a368_0x4e01(_0x4e8ae7,_0x1f9fd4);}const common_1=require(a368_0x7063ac(0x128)),guards_1=require('../../auth/guards'),kernel_1=require(a368_0x7063ac(0x141)),decorators_1=require(a368_0x7063ac(0x114)),file_1=require(a368_0x7063ac(0x149)),dtos_1=require(a368_0x7063ac(0x105)),video_create_payload_1=require(a368_0x7063ac(0x119)),video_service_1=require(a368_0x7063ac(0x12d)),payloads_1=require('../payloads'),video_search_service_1=require(a368_0x7063ac(0x125));let AdminPerformerVideosController=class AdminPerformerVideosController{constructor(_0x197d8b,_0x45640f){const _0x45cd99=a368_0x7063ac;this[_0x45cd99(0x142)]=_0x197d8b,this[_0x45cd99(0x10e)]=_0x45640f;}async[a368_0x7063ac(0x108)](_0x9867dd,_0x2badc7){const _0x2afbbf=a368_0x7063ac,_0x1f7830=await this[_0x2afbbf(0x142)][_0x2afbbf(0x129)](_0x9867dd[_0x2afbbf(0x137)],_0x9867dd[_0x2afbbf(0xfc)],_0x9867dd[_0x2afbbf(0x110)],_0x2badc7);return kernel_1['DataResponse']['ok'](_0x1f7830);}async[a368_0x7063ac(0x131)](_0x1efcf8,_0x72bc71){const _0x148646=a368_0x7063ac,_0x291cae=await this['videoService'][_0x148646(0x127)](_0x1efcf8,_0x72bc71['jwToken']);return kernel_1['DataResponse']['ok'](_0x291cae);}async['search'](_0x324806,_0x411d29){const _0x9f8421=a368_0x7063ac,_0x26c920=await this[_0x9f8421(0x10e)][_0x9f8421(0x11c)](_0x324806,_0x411d29[_0x9f8421(0x10b)]);return kernel_1[_0x9f8421(0x12e)]['ok'](_0x26c920);}async['update'](_0x5593cf,_0x226c70,_0x1034c8,_0x4d5d6e){const _0x5ea4ed=a368_0x7063ac,_0xef2682=await this['videoService'][_0x5ea4ed(0x10c)](_0x5593cf,_0x226c70,_0x4d5d6e[_0x5ea4ed(0x137)],_0x4d5d6e['trailer'],_0x4d5d6e[_0x5ea4ed(0x110)],_0x1034c8);return kernel_1['DataResponse']['ok'](_0xef2682);}async[a368_0x7063ac(0xff)](_0xa310aa){const _0x5633c4=a368_0x7063ac,_0x3a4707=await this['videoService'][_0x5633c4(0x13a)](_0xa310aa);return kernel_1['DataResponse']['ok'](_0x3a4707);}};__decorate([common_1[a368_0x7063ac(0x103)]('/upload'),common_1[a368_0x7063ac(0x139)](common_1[a368_0x7063ac(0x10a)]['OK']),decorators_1['Roles'](a368_0x7063ac(0x109)),common_1[a368_0x7063ac(0x140)](guards_1['RoleGuard']),common_1[a368_0x7063ac(0x145)](file_1['MultiFileUploadInterceptor']([{'type':'performer-video','fieldName':a368_0x7063ac(0x137),'options':{'destination':kernel_1[a368_0x7063ac(0x112)](a368_0x7063ac(0x12a))[a368_0x7063ac(0x11e)]}},{'type':a368_0x7063ac(0x126),'fieldName':a368_0x7063ac(0xfc),'options':{'destination':kernel_1['getConfig'](a368_0x7063ac(0x12a))[a368_0x7063ac(0x106)]}},{'type':a368_0x7063ac(0x117),'fieldName':a368_0x7063ac(0x110),'options':{'destination':kernel_1['getConfig']('file')[a368_0x7063ac(0x12f)],'generateThumbnail':!![],'replaceWithThumbail':!![],'thumbnailSize':kernel_1[a368_0x7063ac(0x112)](a368_0x7063ac(0x13e))[a368_0x7063ac(0x138)]}}],{})),__param(0x0,file_1['FilesUploaded']()),__param(0x1,common_1[a368_0x7063ac(0x111)]()),__metadata(a368_0x7063ac(0x134),Function),__metadata(a368_0x7063ac(0xf8),[Object,video_create_payload_1['VideoCreatePayload']]),__metadata(a368_0x7063ac(0x147),Promise)],AdminPerformerVideosController[a368_0x7063ac(0x122)],a368_0x7063ac(0x108),null),__decorate([common_1[a368_0x7063ac(0x104)](a368_0x7063ac(0x11f)),common_1[a368_0x7063ac(0x139)](common_1[a368_0x7063ac(0x10a)]['OK']),decorators_1['Roles']('admin'),common_1[a368_0x7063ac(0x140)](guards_1['RoleGuard']),__param(0x0,common_1[a368_0x7063ac(0x130)]('id')),__param(0x1,common_1[a368_0x7063ac(0x13d)]()),__metadata('design:type',Function),__metadata(a368_0x7063ac(0xf8),[String,Object]),__metadata(a368_0x7063ac(0x147),Promise)],AdminPerformerVideosController['prototype'],'details',null),__decorate([common_1[a368_0x7063ac(0x104)](a368_0x7063ac(0x144)),common_1[a368_0x7063ac(0x139)](common_1['HttpStatus']['OK']),decorators_1[a368_0x7063ac(0x113)](a368_0x7063ac(0x109)),common_1['UseGuards'](guards_1[a368_0x7063ac(0x11b)]),__param(0x0,common_1[a368_0x7063ac(0x13c)]()),__param(0x1,common_1[a368_0x7063ac(0x13d)]()),__metadata(a368_0x7063ac(0x134),Function),__metadata(a368_0x7063ac(0xf8),[payloads_1['VideoSearchRequest'],Object]),__metadata(a368_0x7063ac(0x147),Promise)],AdminPerformerVideosController['prototype'],a368_0x7063ac(0x10d),null),__decorate([common_1['Put'](a368_0x7063ac(0x11a)),common_1['HttpCode'](common_1[a368_0x7063ac(0x10a)]['OK']),decorators_1[a368_0x7063ac(0x113)](a368_0x7063ac(0x109)),common_1[a368_0x7063ac(0x140)](guards_1['RoleGuard']),common_1[a368_0x7063ac(0x145)](file_1[a368_0x7063ac(0x136)]([{'type':a368_0x7063ac(0x135),'fieldName':a368_0x7063ac(0x137),'options':{'destination':kernel_1['getConfig'](a368_0x7063ac(0x12a))['videoProtectedDir']}},{'type':a368_0x7063ac(0x126),'fieldName':'trailer','options':{'destination':kernel_1[a368_0x7063ac(0x112)](a368_0x7063ac(0x12a))[a368_0x7063ac(0x106)]}},{'type':a368_0x7063ac(0x117),'fieldName':'thumbnail','options':{'destination':kernel_1[a368_0x7063ac(0x112)]('file')[a368_0x7063ac(0x12f)],'generateThumbnail':!![],'replaceWithThumbail':!![],'thumbnailSize':kernel_1['getConfig']('image')[a368_0x7063ac(0x138)]}}],{})),__param(0x0,common_1[a368_0x7063ac(0x130)]('id')),__param(0x1,common_1['Body']()),__param(0x2,decorators_1[a368_0x7063ac(0x115)]()),__param(0x3,file_1[a368_0x7063ac(0x146)]()),__metadata('design:type',Function),__metadata(a368_0x7063ac(0xf8),[String,payloads_1['VideoUpdatePayload'],dtos_1[a368_0x7063ac(0x124)],Object]),__metadata('design:returntype',Promise)],AdminPerformerVideosController[a368_0x7063ac(0x122)],'update',null),__decorate([common_1[a368_0x7063ac(0x107)](a368_0x7063ac(0x11a)),common_1[a368_0x7063ac(0x139)](common_1[a368_0x7063ac(0x10a)]['OK']),decorators_1[a368_0x7063ac(0x113)](a368_0x7063ac(0x109)),common_1[a368_0x7063ac(0x140)](guards_1[a368_0x7063ac(0x11b)]),__param(0x0,common_1[a368_0x7063ac(0x130)]('id')),__metadata('design:type',Function),__metadata(a368_0x7063ac(0xf8),[String]),__metadata(a368_0x7063ac(0x147),Promise)],AdminPerformerVideosController[a368_0x7063ac(0x122)],a368_0x7063ac(0xff),null),AdminPerformerVideosController=__decorate([common_1[a368_0x7063ac(0xfe)](),common_1[a368_0x7063ac(0x102)](a368_0x7063ac(0x132)),__metadata(a368_0x7063ac(0xf8),[video_service_1['VideoService'],video_search_service_1[a368_0x7063ac(0x12b)]])],AdminPerformerVideosController),exports[a368_0x7063ac(0x116)]=AdminPerformerVideosController;