'use strict';const a376_0x2ca3=['length','__metadata','Request','1034WncORn','VideoSearchRequest','211460cchQEB','UNAUTHORIZED','../../user/dtos','userGetDetails','1sUbeTd','/auth/check','videoSearchService','__param','UserInterceptor','Controller','Get','query','function','generateJWT','authId','1dxRzIh','VideoSearchService','design:returntype','../../auth/interceptors','53juKcTN','object','prototype','2046PZoaiZ','view','videoService','1GfyTxL','HttpCode','increaseView','checkAuth','Post','videoId','source','UseGuards','Injectable','defineProperty','authService','15431vGlVkE','UserDto','/search','355193MrTTXp','CurrentUser','user/performer-assets/videos','../payloads','decorate','status','UseInterceptors','details','design:type','257558EzqcHk','AuthGuard','../../auth/guards','246422PJFEbO','__decorate','DataResponse','design:paramtypes','../../auth/decorators','authUser','../../auth/services','../services/video.service','1367302SRFmQa','Param','UsePipes','sourceId','HttpStatus','Res'];const a376_0x3ece0e=a376_0x41a0;(function(_0x107df9,_0xb7d563){const _0x21956b=a376_0x41a0;while(!![]){try{const _0x275f79=parseInt(_0x21956b(0x99))+parseInt(_0x21956b(0xb0))*parseInt(_0x21956b(0x96))+parseInt(_0x21956b(0xbb))*parseInt(_0x21956b(0xa1))+parseInt(_0x21956b(0xd0))*parseInt(_0x21956b(0xbf))+-parseInt(_0x21956b(0xac))+-parseInt(_0x21956b(0x8d))*-parseInt(_0x21956b(0xc5))+-parseInt(_0x21956b(0xaa))*parseInt(_0x21956b(0xc2));if(_0x275f79===_0xb7d563)break;else _0x107df9['push'](_0x107df9['shift']());}catch(_0x58dfab){_0x107df9['push'](_0x107df9['shift']());}}}(a376_0x2ca3,0xaf1ee));function a376_0x41a0(_0x2dcf88,_0x4ae04e){return a376_0x41a0=function(_0x2ca3dc,_0x41a03f){_0x2ca3dc=_0x2ca3dc-0x8c;let _0x2ad71f=a376_0x2ca3[_0x2ca3dc];return _0x2ad71f;},a376_0x41a0(_0x2dcf88,_0x4ae04e);}var __decorate=this&&this[a376_0x3ece0e(0x9a)]||function(_0x55abef,_0x1264fe,_0x113d4e,_0x5cdfcd){const _0xb0ec93=a376_0x3ece0e;var _0x1a5bdf=arguments[_0xb0ec93(0xa7)],_0x22be53=_0x1a5bdf<0x3?_0x1264fe:_0x5cdfcd===null?_0x5cdfcd=Object['getOwnPropertyDescriptor'](_0x1264fe,_0x113d4e):_0x5cdfcd,_0x2f161c;if(typeof Reflect===_0xb0ec93(0xc0)&&typeof Reflect['decorate']==='function')_0x22be53=Reflect[_0xb0ec93(0x91)](_0x55abef,_0x1264fe,_0x113d4e,_0x5cdfcd);else{for(var _0x3c7b02=_0x55abef[_0xb0ec93(0xa7)]-0x1;_0x3c7b02>=0x0;_0x3c7b02--)if(_0x2f161c=_0x55abef[_0x3c7b02])_0x22be53=(_0x1a5bdf<0x3?_0x2f161c(_0x22be53):_0x1a5bdf>0x3?_0x2f161c(_0x1264fe,_0x113d4e,_0x22be53):_0x2f161c(_0x1264fe,_0x113d4e))||_0x22be53;}return _0x1a5bdf>0x3&&_0x22be53&&Object[_0xb0ec93(0xce)](_0x1264fe,_0x113d4e,_0x22be53),_0x22be53;},__metadata=this&&this[a376_0x3ece0e(0xa8)]||function(_0x5d4aed,_0x3670a0){const _0x150ad1=a376_0x3ece0e;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x150ad1(0xb8))return Reflect['metadata'](_0x5d4aed,_0x3670a0);},__param=this&&this[a376_0x3ece0e(0xb3)]||function(_0x17c859,_0x5d8ccc){return function(_0x370a6f,_0x2a80bd){_0x5d8ccc(_0x370a6f,_0x2a80bd,_0x17c859);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['UserVideosController']=void 0x0;const common_1=require('@nestjs/common'),kernel_1=require('../../../kernel'),interceptors_1=require(a376_0x3ece0e(0xbe)),services_1=require(a376_0x3ece0e(0x9f)),decorators_1=require(a376_0x3ece0e(0x9d)),dtos_1=require(a376_0x3ece0e(0xae)),guards_1=require(a376_0x3ece0e(0x98)),video_service_1=require(a376_0x3ece0e(0xa0)),payloads_1=require(a376_0x3ece0e(0x90)),video_search_service_1=require('../services/video-search.service');let UserVideosController=class UserVideosController{constructor(_0x317d75,_0x111594,_0x24ff1a){const _0x5e0cdf=a376_0x3ece0e;this[_0x5e0cdf(0xc4)]=_0x317d75,this[_0x5e0cdf(0xb2)]=_0x111594,this[_0x5e0cdf(0xcf)]=_0x24ff1a;}async['search'](_0x3c149d,_0x5294dd,_0x1709bd){const _0x32e351=a376_0x3ece0e,_0x1b5f46=_0x1709bd[_0x32e351(0x9e)]&&{'_id':_0x1709bd[_0x32e351(0x9e)][_0x32e351(0xba)],'source':_0x1709bd['authUser'][_0x32e351(0xcb)],'sourceId':_0x1709bd[_0x32e351(0x9e)][_0x32e351(0xa4)]},_0x5a92bb=_0x1709bd[_0x32e351(0x9e)]&&this[_0x32e351(0xcf)][_0x32e351(0xb9)](_0x1b5f46,{'expiresIn':0x2*0x3c*0x3c}),_0x133445=await this['videoSearchService']['userSearch'](_0x3c149d,_0x5294dd,_0x5a92bb);return kernel_1[_0x32e351(0x9b)]['ok'](_0x133445);}async['details'](_0x1ab4b9,_0x201f46,_0xad1544){const _0x32adf2=a376_0x3ece0e,_0x384912=_0xad1544[_0x32adf2(0x9e)]&&{'_id':_0xad1544['authUser']['authId'],'source':_0xad1544[_0x32adf2(0x9e)][_0x32adf2(0xcb)],'sourceId':_0xad1544['authUser'][_0x32adf2(0xa4)]},_0x492a84=_0xad1544['authUser']&&this[_0x32adf2(0xcf)][_0x32adf2(0xb9)](_0x384912,{'expiresIn':0x2*0x3c*0x3c}),_0x3d44cc=await this[_0x32adf2(0xc4)][_0x32adf2(0xaf)](_0x1ab4b9,_0x201f46,_0x492a84);return kernel_1[_0x32adf2(0x9b)]['ok'](_0x3d44cc);}async[a376_0x3ece0e(0xc3)](_0x63ece){const _0x559e27=a376_0x3ece0e,_0x55a6e8=await this[_0x559e27(0xc4)][_0x559e27(0xc7)](_0x63ece);return kernel_1[_0x559e27(0x9b)]['ok'](_0x55a6e8);}async[a376_0x3ece0e(0xc8)](_0x223919,_0x1fbc49){const _0x11f78b=a376_0x3ece0e;if(!_0x223919[_0x11f78b(0xb7)][_0x11f78b(0xca)])return _0x1fbc49['status'](common_1[_0x11f78b(0xa5)][_0x11f78b(0xad)])['send']();const _0x478b7f=await this['videoService']['checkAuth'](_0x223919);return _0x1fbc49[_0x11f78b(0x92)](_0x478b7f?common_1[_0x11f78b(0xa5)]['OK']:common_1['HttpStatus'][_0x11f78b(0xad)])['send']();}};__decorate([common_1[a376_0x3ece0e(0xb6)](a376_0x3ece0e(0x8c)),common_1['UseInterceptors'](interceptors_1[a376_0x3ece0e(0xb4)]),common_1[a376_0x3ece0e(0xc6)](common_1[a376_0x3ece0e(0xa5)]['OK']),__param(0x0,common_1['Query']()),__param(0x1,decorators_1[a376_0x3ece0e(0x8e)]()),__param(0x2,common_1[a376_0x3ece0e(0xa9)]()),__metadata(a376_0x3ece0e(0x95),Function),__metadata(a376_0x3ece0e(0x9c),[payloads_1[a376_0x3ece0e(0xab)],dtos_1[a376_0x3ece0e(0xd1)],Object]),__metadata(a376_0x3ece0e(0xbd),Promise)],UserVideosController[a376_0x3ece0e(0xc1)],'search',null),__decorate([common_1[a376_0x3ece0e(0xb6)]('/:id'),common_1['HttpCode'](common_1[a376_0x3ece0e(0xa5)]['OK']),common_1[a376_0x3ece0e(0x93)](interceptors_1['UserInterceptor']),common_1[a376_0x3ece0e(0xa3)](new common_1['ValidationPipe']({'transform':!![]})),__param(0x0,common_1[a376_0x3ece0e(0xa2)]('id')),__param(0x1,decorators_1[a376_0x3ece0e(0x8e)]()),__param(0x2,common_1[a376_0x3ece0e(0xa9)]()),__metadata(a376_0x3ece0e(0x95),Function),__metadata(a376_0x3ece0e(0x9c),[String,dtos_1[a376_0x3ece0e(0xd1)],Object]),__metadata(a376_0x3ece0e(0xbd),Promise)],UserVideosController[a376_0x3ece0e(0xc1)],a376_0x3ece0e(0x94),null),__decorate([common_1[a376_0x3ece0e(0xc9)]('/:id/inc-view'),common_1['HttpCode'](common_1['HttpStatus']['OK']),common_1[a376_0x3ece0e(0xcc)](guards_1[a376_0x3ece0e(0x97)]),__param(0x0,common_1[a376_0x3ece0e(0xa2)]('id')),__metadata(a376_0x3ece0e(0x95),Function),__metadata(a376_0x3ece0e(0x9c),[String]),__metadata(a376_0x3ece0e(0xbd),Promise)],UserVideosController['prototype'],a376_0x3ece0e(0xc3),null),__decorate([common_1[a376_0x3ece0e(0xb6)](a376_0x3ece0e(0xb1)),common_1[a376_0x3ece0e(0xc6)](common_1[a376_0x3ece0e(0xa5)]['OK']),__param(0x0,common_1[a376_0x3ece0e(0xa9)]()),__param(0x1,common_1[a376_0x3ece0e(0xa6)]()),__metadata('design:type',Function),__metadata(a376_0x3ece0e(0x9c),[Object,Object]),__metadata('design:returntype',Promise)],UserVideosController[a376_0x3ece0e(0xc1)],a376_0x3ece0e(0xc8),null),UserVideosController=__decorate([common_1[a376_0x3ece0e(0xcd)](),common_1[a376_0x3ece0e(0xb5)](a376_0x3ece0e(0x8f)),__metadata(a376_0x3ece0e(0x9c),[video_service_1['VideoService'],video_search_service_1[a376_0x3ece0e(0xbc)],services_1['AuthService']])],UserVideosController),exports['UserVideosController']=UserVideosController;