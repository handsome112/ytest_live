'use strict';const a359_0x197d=['substr','design:paramtypes','countryService','../providers','defineProperty','findOne','CountryService','6310Xfaune','2AHYTkN','@nestjs/common','object','206ZkxAfb','status','findIndex','2PLpwZF','decorate','checkBlockByPerformerId','../../utils/services','2482RLseaW','Inject','isArray','__param','x-forwarded-for','19727RMRPrh','length','PERFORMER_BLOCK_SETTING_MODEL_PROVIDER','remoteAddress','__metadata','PerformerBlockSetting','191549wqlAZk','Injectable','function','findByPerformerId','1147ukGnSH','toString','1077hGysyT','87lttTGc','metadata','PerformerBlockSettingService','68229QyNxyq','connection','getOwnPropertyDescriptor','countryCode','../constants','37HJWKYt','__decorate','data','whiteListIps'];const a359_0x39476d=a359_0x5258;(function(_0x4ef31d,_0x19c5b7){const _0x2c091b=a359_0x5258;while(!![]){try{const _0x587749=-parseInt(_0x2c091b(0x19c))*parseInt(_0x2c091b(0x191))+-parseInt(_0x2c091b(0x194))*parseInt(_0x2c091b(0x1b2))+-parseInt(_0x2c091b(0x197))+-parseInt(_0x2c091b(0x1ab))*-parseInt(_0x2c091b(0x193))+parseInt(_0x2c091b(0x18d))+parseInt(_0x2c091b(0x187))*parseInt(_0x2c091b(0x1a8))+-parseInt(_0x2c091b(0x1ae))*-parseInt(_0x2c091b(0x1a7));if(_0x587749===_0x19c5b7)break;else _0x4ef31d['push'](_0x4ef31d['shift']());}catch(_0x19609f){_0x4ef31d['push'](_0x4ef31d['shift']());}}}(a359_0x197d,0x21e83));var __decorate=this&&this[a359_0x39476d(0x19d)]||function(_0x585778,_0x52ec09,_0x4e1867,_0x3abaa3){const _0x53f33f=a359_0x39476d;var _0x56e36f=arguments['length'],_0x1d49b4=_0x56e36f<0x3?_0x52ec09:_0x3abaa3===null?_0x3abaa3=Object[_0x53f33f(0x199)](_0x52ec09,_0x4e1867):_0x3abaa3,_0x1031af;if(typeof Reflect===_0x53f33f(0x1aa)&&typeof Reflect[_0x53f33f(0x1af)]===_0x53f33f(0x18f))_0x1d49b4=Reflect[_0x53f33f(0x1af)](_0x585778,_0x52ec09,_0x4e1867,_0x3abaa3);else{for(var _0x22e984=_0x585778[_0x53f33f(0x188)]-0x1;_0x22e984>=0x0;_0x22e984--)if(_0x1031af=_0x585778[_0x22e984])_0x1d49b4=(_0x56e36f<0x3?_0x1031af(_0x1d49b4):_0x56e36f>0x3?_0x1031af(_0x52ec09,_0x4e1867,_0x1d49b4):_0x1031af(_0x52ec09,_0x4e1867))||_0x1d49b4;}return _0x56e36f>0x3&&_0x1d49b4&&Object[_0x53f33f(0x1a4)](_0x52ec09,_0x4e1867,_0x1d49b4),_0x1d49b4;},__metadata=this&&this[a359_0x39476d(0x18b)]||function(_0x2df5dc,_0x2fd628){const _0x5b8e90=a359_0x39476d;if(typeof Reflect===_0x5b8e90(0x1aa)&&typeof Reflect[_0x5b8e90(0x195)]===_0x5b8e90(0x18f))return Reflect[_0x5b8e90(0x195)](_0x2df5dc,_0x2fd628);},__param=this&&this[a359_0x39476d(0x1b5)]||function(_0x28dc1f,_0x3a7ffb){return function(_0x3de8f9,_0x358552){_0x3a7ffb(_0x3de8f9,_0x358552,_0x28dc1f);};};function a359_0x5258(_0x12cd49,_0x344206){return a359_0x5258=function(_0x197df5,_0x5258fd){_0x197df5=_0x197df5-0x187;let _0x544230=a359_0x197d[_0x197df5];return _0x544230;},a359_0x5258(_0x12cd49,_0x344206);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a359_0x39476d(0x196)]=void 0x0;const common_1=require(a359_0x39476d(0x1a9)),mongoose_1=require('mongoose'),services_1=require(a359_0x39476d(0x1b1)),providers_1=require(a359_0x39476d(0x1a3)),constants_1=require(a359_0x39476d(0x19b));let PerformerBlockSettingService=class PerformerBlockSettingService{constructor(_0x545de4,_0xa8a16a){const _0x213e67=a359_0x39476d;this['PerformerBlockSetting']=_0x545de4,this[_0x213e67(0x1a2)]=_0xa8a16a;}async[a359_0x39476d(0x190)](_0x3427cb){const _0x12cca8=a359_0x39476d;return this[_0x12cca8(0x18c)][_0x12cca8(0x1a5)]({'performerId':_0x3427cb});}async[a359_0x39476d(0x1b0)](_0x222623,_0x2cbcd0,_0x16e142){const _0x723d48=a359_0x39476d,_0x5293ef=await this[_0x723d48(0x190)](_0x222623);if(_0x5293ef){const {userIds:_0x6eb029,countries:_0x34ede8}=_0x5293ef;if(_0x6eb029[_0x723d48(0x1ad)](_0x3ba03b=>''+_0x3ba03b===''+_0x2cbcd0)>-0x1)return!![];if(_0x16e142&&_0x34ede8['length']){let _0xc89b3e=_0x16e142['headers'][_0x723d48(0x1b6)]||_0x16e142[_0x723d48(0x198)][_0x723d48(0x18a)];_0xc89b3e=Array[_0x723d48(0x1b4)](_0xc89b3e)?_0xc89b3e[_0x723d48(0x192)]():_0xc89b3e;_0xc89b3e[_0x723d48(0x1a0)](0x0,0x7)==='::ffff:'&&(_0xc89b3e=_0xc89b3e['substr'](0x7));if(constants_1[_0x723d48(0x19f)]['indexOf'](_0xc89b3e)===-0x1){const _0x47a8f3=await this[_0x723d48(0x1a2)]['findCountryByIP'](_0xc89b3e);if(_0x47a8f3&&_0x47a8f3[_0x723d48(0x1ac)]===0xc8&&_0x47a8f3[_0x723d48(0x19e)]&&_0x47a8f3[_0x723d48(0x19e)][_0x723d48(0x19a)]){if(_0x34ede8[_0x723d48(0x1ad)](_0x554c6e=>_0x554c6e===_0x47a8f3[_0x723d48(0x19e)][_0x723d48(0x19a)])>-0x1)return!![];}}}}return![];}};PerformerBlockSettingService=__decorate([common_1[a359_0x39476d(0x18e)](),__param(0x0,common_1[a359_0x39476d(0x1b3)](providers_1[a359_0x39476d(0x189)])),__metadata(a359_0x39476d(0x1a1),[mongoose_1['Model'],services_1[a359_0x39476d(0x1a6)]])],PerformerBlockSettingService),exports[a359_0x39476d(0x196)]=PerformerBlockSettingService;