'use strict';const a356_0x5360=['length','__metadata','../../../kernel','../dtos','limit','mongoose','11rlApsh','offset','19878UqRuiM','metadata','find','countDocuments','__esModule','PerformerCategoryDto','categoryModel','PERFORMER_CATEGORY_MODEL_PROVIDER','1670705FQoepZ','sortBy','CategorySearchService','33493xUoEkt','defineProperty','design:paramtypes','__param','396372rdryXp','@nestjs/common','object','map','2655585HfikWl','getOwnPropertyDescriptor','../providers','1732099EcdVpu','43aPsvTL','823462OxWlPo','lean','Model','sort','$or','function'];function a356_0x24f8(_0x3e1cd1,_0x2e31d0){return a356_0x24f8=function(_0x536068,_0x24f8d8){_0x536068=_0x536068-0x9d;let _0x1e5753=a356_0x5360[_0x536068];return _0x1e5753;},a356_0x24f8(_0x3e1cd1,_0x2e31d0);}const a356_0x4983dd=a356_0x24f8;(function(_0x4c0643,_0x53d1fe){const _0x2622d4=a356_0x24f8;while(!![]){try{const _0x2ae679=-parseInt(_0x2622d4(0xa5))+-parseInt(_0x2622d4(0xa1))*-parseInt(_0x2622d4(0xba))+-parseInt(_0x2622d4(0xac))+parseInt(_0x2622d4(0xae))+parseInt(_0x2622d4(0xad))*parseInt(_0x2622d4(0xbc))+-parseInt(_0x2622d4(0x9e))+parseInt(_0x2622d4(0xa9));if(_0x2ae679===_0x53d1fe)break;else _0x4c0643['push'](_0x4c0643['shift']());}catch(_0x4adbde){_0x4c0643['push'](_0x4c0643['shift']());}}}(a356_0x5360,0xdc788));var __decorate=this&&this['__decorate']||function(_0x4f68b8,_0x400a42,_0x5816e0,_0x5e922c){const _0x547b22=a356_0x24f8;var _0x526769=arguments[_0x547b22(0xb4)],_0x262acd=_0x526769<0x3?_0x400a42:_0x5e922c===null?_0x5e922c=Object[_0x547b22(0xaa)](_0x400a42,_0x5816e0):_0x5e922c,_0x260b53;if(typeof Reflect===_0x547b22(0xa7)&&typeof Reflect['decorate']==='function')_0x262acd=Reflect['decorate'](_0x4f68b8,_0x400a42,_0x5816e0,_0x5e922c);else{for(var _0xe907e5=_0x4f68b8[_0x547b22(0xb4)]-0x1;_0xe907e5>=0x0;_0xe907e5--)if(_0x260b53=_0x4f68b8[_0xe907e5])_0x262acd=(_0x526769<0x3?_0x260b53(_0x262acd):_0x526769>0x3?_0x260b53(_0x400a42,_0x5816e0,_0x262acd):_0x260b53(_0x400a42,_0x5816e0))||_0x262acd;}return _0x526769>0x3&&_0x262acd&&Object[_0x547b22(0xa2)](_0x400a42,_0x5816e0,_0x262acd),_0x262acd;},__metadata=this&&this[a356_0x4983dd(0xb5)]||function(_0x85eb8,_0x4166d6){const _0x7f91dd=a356_0x4983dd;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x7f91dd(0xb3))return Reflect[_0x7f91dd(0xbd)](_0x85eb8,_0x4166d6);},__param=this&&this[a356_0x4983dd(0xa4)]||function(_0x10e9a1,_0x42bc01){return function(_0x17f310,_0x12bc00){_0x42bc01(_0x17f310,_0x12bc00,_0x10e9a1);};};Object[a356_0x4983dd(0xa2)](exports,a356_0x4983dd(0xc0),{'value':!![]}),exports[a356_0x4983dd(0xa0)]=void 0x0;const common_1=require(a356_0x4983dd(0xa6)),mongoose_1=require(a356_0x4983dd(0xb9)),kernel_1=require(a356_0x4983dd(0xb6)),providers_1=require(a356_0x4983dd(0xab)),dtos_1=require(a356_0x4983dd(0xb7));let CategorySearchService=class CategorySearchService{constructor(_0x48dda3){const _0x1ef950=a356_0x4983dd;this[_0x1ef950(0xc2)]=_0x48dda3;}async['search'](_0xb7f162){const _0x1a6e06=a356_0x4983dd,_0x100697={};_0xb7f162['q']&&(_0x100697[_0x1a6e06(0xb2)]=[{'name':{'$regex':_0xb7f162['q']}}]);let _0x18ac54={};_0xb7f162['sort']&&_0xb7f162['sortBy']&&(_0x18ac54={[_0xb7f162[_0x1a6e06(0x9f)]]:_0xb7f162['sort']});const [_0x5bc9f7,_0x5071ab]=await Promise['all']([this[_0x1a6e06(0xc2)][_0x1a6e06(0xbe)](_0x100697)[_0x1a6e06(0xaf)]()[_0x1a6e06(0xb1)](_0x18ac54)[_0x1a6e06(0xb8)](parseInt(_0xb7f162['limit'],0xa))['skip'](parseInt(_0xb7f162[_0x1a6e06(0xbb)],0xa)),this[_0x1a6e06(0xc2)][_0x1a6e06(0xbf)](_0x100697)]);return{'data':_0x5bc9f7[_0x1a6e06(0xa8)](_0x18ebd9=>new dtos_1[(_0x1a6e06(0xc1))](_0x18ebd9)),'total':_0x5071ab};}};CategorySearchService=__decorate([common_1['Injectable'](),__param(0x0,common_1['Inject'](providers_1[a356_0x4983dd(0x9d)])),__metadata(a356_0x4983dd(0xa3),[mongoose_1[a356_0x4983dd(0xb0)]])],CategorySearchService),exports[a356_0x4983dd(0xa0)]=CategorySearchService;