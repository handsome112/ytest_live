'use strict';const a176_0x1fd0=['59731gQEljm','23371QkzJXJ','10581qBubbU','toPath','17eZdPHi','__esModule','end','192mLsukB','VideoService','error','4367aabXEO','count','2KActle','320x240','join','419kNHHTB','screenshot','StringHelper','../exceptions','createThumbs','mp4','libx264','getDuration','videoCodec','path','randomString','save','size','../../../kernel','1621498eANciI','.mp4','toFolder','fluent-ffmpeg','-%s.png','343416UIqJMF','defineProperty','ffprobe','outputOptions','1058WODfUP','format','getFilePath'];const a176_0x1cf25f=a176_0x56c5;(function(_0x4590fc,_0x19b897){const _0xa559e8=a176_0x56c5;while(!![]){try{const _0x57ad7c=parseInt(_0xa559e8(0x198))+parseInt(_0xa559e8(0x1a2))*-parseInt(_0xa559e8(0x19f))+-parseInt(_0xa559e8(0x191))+-parseInt(_0xa559e8(0x19c))*-parseInt(_0xa559e8(0x199))+parseInt(_0xa559e8(0x17e))*-parseInt(_0xa559e8(0x195))+parseInt(_0xa559e8(0x1a4))*parseInt(_0xa559e8(0x19a))+parseInt(_0xa559e8(0x18c));if(_0x57ad7c===_0x19b897)break;else _0x4590fc['push'](_0x4590fc['shift']());}catch(_0x4efa94){_0x4590fc['push'](_0x4590fc['shift']());}}}(a176_0x1fd0,0x73d94));Object[a176_0x1cf25f(0x192)](exports,a176_0x1cf25f(0x19d),{'value':!![]}),exports[a176_0x1cf25f(0x1a0)]=void 0x0;function a176_0x56c5(_0x526b3e,_0x164d8a){return a176_0x56c5=function(_0x1fd09a,_0x56c5fe){_0x1fd09a=_0x1fd09a-0x17c;let _0x9272f=a176_0x1fd0[_0x1fd09a];return _0x9272f;},a176_0x56c5(_0x526b3e,_0x164d8a);}const Ffmpeg=require(a176_0x1cf25f(0x18f)),path_1=require(a176_0x1cf25f(0x187)),kernel_1=require(a176_0x1cf25f(0x18b)),exceptions_1=require(a176_0x1cf25f(0x181));class VideoService{async['convert2Mp4'](_0x50526c,_0x3f87ee={}){const _0x294743=a176_0x1cf25f;try{const _0x5b7552=kernel_1[_0x294743(0x180)][_0x294743(0x188)](0x5)+'_'+kernel_1[_0x294743(0x180)]['getFileName'](_0x50526c,!![])+_0x294743(0x18d),_0x1bb102=_0x3f87ee[_0x294743(0x19b)]||path_1[_0x294743(0x17d)](kernel_1['StringHelper'][_0x294743(0x197)](_0x50526c),_0x5b7552);return new Promise((_0x20c945,_0x5aef61)=>{const _0x1ccafa=_0x294743,_0x5161de=new Ffmpeg(_0x50526c)[_0x1ccafa(0x186)](_0x1ccafa(0x184))[_0x1ccafa(0x194)]('-strict\x20-2')['on'](_0x1ccafa(0x19e),()=>_0x20c945({'fileName':_0x5b7552,'toPath':_0x1bb102}))['on'](_0x1ccafa(0x1a1),_0x5aef61)['toFormat'](_0x1ccafa(0x183));_0x3f87ee['size']&&_0x5161de[_0x1ccafa(0x18a)](_0x3f87ee[_0x1ccafa(0x18a)]),_0x5161de[_0x1ccafa(0x189)](_0x1bb102);});}catch(_0x2eda9b){throw new exceptions_1['ConvertMp4ErrorException'](_0x2eda9b);}}async[a176_0x1cf25f(0x185)](_0x2458f5){const _0x1571b7=a176_0x1cf25f;return new Promise((_0x118f40,_0x3b7c1d)=>Ffmpeg[_0x1571b7(0x193)](_0x2458f5,(_0x552332,_0x7c8c3b)=>{const _0x14b2e7=_0x1571b7;if(_0x552332)return _0x3b7c1d(_0x552332);return _0x118f40(parseInt(_0x7c8c3b[_0x14b2e7(0x196)]['duration'],0xa));}));}async[a176_0x1cf25f(0x182)](_0x468f1c,_0x4d1772){const _0x4cb556=a176_0x1cf25f;let _0x27ee66=[];return new Promise((_0x3e6414,_0x6c53ab)=>new Ffmpeg(_0x468f1c)['on']('filenames',_0x260491=>{_0x27ee66=_0x260491;})['on'](_0x4cb556(0x19e),()=>_0x3e6414(_0x27ee66))['on'](_0x4cb556(0x1a1),_0x6c53ab)[_0x4cb556(0x17f)]({'folder':_0x4d1772[_0x4cb556(0x18e)],'filename':kernel_1[_0x4cb556(0x180)]['randomString'](0x5)+_0x4cb556(0x190),'count':_0x4d1772[_0x4cb556(0x1a3)]||0x3,'size':_0x4d1772[_0x4cb556(0x18a)]||_0x4cb556(0x17c)}));}}exports[a176_0x1cf25f(0x1a0)]=VideoService;