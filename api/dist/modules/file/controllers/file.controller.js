'use strict';var a147_0x1ce1=['86PUiaAK','1570343WxrcUC','design:paramtypes','getStreamToDownload','274331oMfylU','pipe','setHeader','392282tkERum','Get','HttpCode','fileService','196318ePpDUO','239819ERZYaD','373ayUEzl','design:type','length','downloadFile','attachment;\x20filename=','decorate','__metadata','@nestjs/common','object','Query','9249jzkovV','defineProperty','getOwnPropertyDescriptor','7FBQKpB','file','function','Content-Disposition','16943jgMRUR','name','2TrsJtt','FileService','Controller','metadata','download','stream','files','__esModule','design:returntype','../services'];var a147_0x2b3189=a147_0x4614;(function(_0xd2d139,_0x259f3a){var _0x25457d=a147_0x4614;while(!![]){try{var _0x3319d7=parseInt(_0x25457d(0x17e))+parseInt(_0x25457d(0x159))*parseInt(_0x25457d(0x167))+parseInt(_0x25457d(0x178))+-parseInt(_0x25457d(0x158))+-parseInt(_0x25457d(0x177))*-parseInt(_0x25457d(0x16b))+-parseInt(_0x25457d(0x16d))*parseInt(_0x25457d(0x17b))+parseInt(_0x25457d(0x164))*-parseInt(_0x25457d(0x15a));if(_0x3319d7===_0x259f3a)break;else _0xd2d139['push'](_0xd2d139['shift']());}catch(_0x253a92){_0xd2d139['push'](_0xd2d139['shift']());}}}(a147_0x1ce1,0xdc9af));function a147_0x4614(_0x217340,_0x4a8fd8){return a147_0x4614=function(_0x1ce150,_0x461433){_0x1ce150=_0x1ce150-0x156;var _0x3e5c27=a147_0x1ce1[_0x1ce150];return _0x3e5c27;},a147_0x4614(_0x217340,_0x4a8fd8);}var __decorate=this&&this['__decorate']||function(_0x31179a,_0x1522a9,_0x598294,_0x1ba2e2){var _0xc630ae=a147_0x4614,_0x16f926=arguments[_0xc630ae(0x15c)],_0x379ae2=_0x16f926<0x3?_0x1522a9:_0x1ba2e2===null?_0x1ba2e2=Object[_0xc630ae(0x166)](_0x1522a9,_0x598294):_0x1ba2e2,_0xb9077c;if(typeof Reflect===_0xc630ae(0x162)&&typeof Reflect[_0xc630ae(0x15f)]===_0xc630ae(0x169))_0x379ae2=Reflect[_0xc630ae(0x15f)](_0x31179a,_0x1522a9,_0x598294,_0x1ba2e2);else{for(var _0xd42cc0=_0x31179a[_0xc630ae(0x15c)]-0x1;_0xd42cc0>=0x0;_0xd42cc0--)if(_0xb9077c=_0x31179a[_0xd42cc0])_0x379ae2=(_0x16f926<0x3?_0xb9077c(_0x379ae2):_0x16f926>0x3?_0xb9077c(_0x1522a9,_0x598294,_0x379ae2):_0xb9077c(_0x1522a9,_0x598294))||_0x379ae2;}return _0x16f926>0x3&&_0x379ae2&&Object[_0xc630ae(0x165)](_0x1522a9,_0x598294,_0x379ae2),_0x379ae2;},__metadata=this&&this[a147_0x2b3189(0x160)]||function(_0x162553,_0xd70e2f){var _0x5f55ad=a147_0x2b3189;if(typeof Reflect===_0x5f55ad(0x162)&&typeof Reflect[_0x5f55ad(0x170)]==='function')return Reflect[_0x5f55ad(0x170)](_0x162553,_0xd70e2f);},__param=this&&this['__param']||function(_0x591627,_0x487cf9){return function(_0x4c2678,_0x313fb4){_0x487cf9(_0x4c2678,_0x313fb4,_0x591627);};};Object[a147_0x2b3189(0x165)](exports,a147_0x2b3189(0x174),{'value':!![]}),exports['FileController']=void 0x0;const common_1=require(a147_0x2b3189(0x161)),services_1=require(a147_0x2b3189(0x176));let FileController=class FileController{constructor(_0x28a6e9){var _0x23129b=a147_0x2b3189;this[_0x23129b(0x157)]=_0x28a6e9;}async['downloadFile'](_0x1d3b42,_0x2439a9){var _0x492f1a=a147_0x2b3189;const _0x3add16=await this['fileService'][_0x492f1a(0x17a)](_0x2439a9);_0x1d3b42[_0x492f1a(0x17d)](_0x492f1a(0x16a),_0x492f1a(0x15e)+_0x3add16[_0x492f1a(0x168)][_0x492f1a(0x16c)]),_0x3add16[_0x492f1a(0x172)][_0x492f1a(0x17c)](_0x1d3b42);}};__decorate([common_1[a147_0x2b3189(0x17f)](a147_0x2b3189(0x171)),common_1[a147_0x2b3189(0x156)](common_1['HttpStatus']['OK']),__param(0x0,common_1['Res']()),__param(0x1,common_1[a147_0x2b3189(0x163)]('key')),__metadata(a147_0x2b3189(0x15b),Function),__metadata(a147_0x2b3189(0x179),[Object,String]),__metadata(a147_0x2b3189(0x175),Promise)],FileController['prototype'],a147_0x2b3189(0x15d),null),FileController=__decorate([common_1[a147_0x2b3189(0x16f)](a147_0x2b3189(0x173)),__metadata(a147_0x2b3189(0x179),[services_1[a147_0x2b3189(0x16e)]])],FileController),exports['FileController']=FileController;