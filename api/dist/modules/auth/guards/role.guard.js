'use strict';const a75_0x1801=['authorization','getRequest','481313gpUQgu','getSourceFromJWT','headers','lodash','metadata','authService','roles','6QCkdJN','687UIqlQc','active','isPerformer','@nestjs/common','1197955umtmQO','design:paramtypes','canActivate','user','857275yVJcfd','RoleGuard','defineProperty','status','authUser','../services','switchToHttp','performer','1434kFDGju','object','Reflector','getOwnPropertyDescriptor','jwToken','__decorate','205wqKwye','includes','reflector','153434mPHKrr','length','get','decorate','6086vPZXhz','verifyJWT','@nestjs/core','584003iaGGsw','function'];const a75_0x4e91bd=a75_0x3553;(function(_0x147c2d,_0x2cc266){const _0xcc06ff=a75_0x3553;while(!![]){try{const _0x541fe6=parseInt(_0xcc06ff(0x1fc))+-parseInt(_0xcc06ff(0x208))+-parseInt(_0xcc06ff(0x203))*-parseInt(_0xcc06ff(0x1f1))+-parseInt(_0xcc06ff(0x1f8))+parseInt(_0xcc06ff(0x20c))+parseInt(_0xcc06ff(0x1f5))*parseInt(_0xcc06ff(0x1ee))+-parseInt(_0xcc06ff(0x1e8))*parseInt(_0xcc06ff(0x204));if(_0x541fe6===_0x2cc266)break;else _0x147c2d['push'](_0x147c2d['shift']());}catch(_0x295faf){_0x147c2d['push'](_0x147c2d['shift']());}}}(a75_0x1801,0xb497a));var __decorate=this&&this[a75_0x4e91bd(0x1ed)]||function(_0x506c6b,_0x13f1fd,_0x5124a2,_0x32185b){const _0x4eec78=a75_0x4e91bd;var _0x13d519=arguments[_0x4eec78(0x1f2)],_0x2e692f=_0x13d519<0x3?_0x13f1fd:_0x32185b===null?_0x32185b=Object[_0x4eec78(0x1eb)](_0x13f1fd,_0x5124a2):_0x32185b,_0x3da380;if(typeof Reflect==='object'&&typeof Reflect[_0x4eec78(0x1f4)]==='function')_0x2e692f=Reflect[_0x4eec78(0x1f4)](_0x506c6b,_0x13f1fd,_0x5124a2,_0x32185b);else{for(var _0x11c00c=_0x506c6b['length']-0x1;_0x11c00c>=0x0;_0x11c00c--)if(_0x3da380=_0x506c6b[_0x11c00c])_0x2e692f=(_0x13d519<0x3?_0x3da380(_0x2e692f):_0x13d519>0x3?_0x3da380(_0x13f1fd,_0x5124a2,_0x2e692f):_0x3da380(_0x13f1fd,_0x5124a2))||_0x2e692f;}return _0x13d519>0x3&&_0x2e692f&&Object[_0x4eec78(0x20e)](_0x13f1fd,_0x5124a2,_0x2e692f),_0x2e692f;},__metadata=this&&this['__metadata']||function(_0x54a9ca,_0x308171){const _0x50aec5=a75_0x4e91bd;if(typeof Reflect===_0x50aec5(0x1e9)&&typeof Reflect[_0x50aec5(0x200)]===_0x50aec5(0x1f9))return Reflect[_0x50aec5(0x200)](_0x54a9ca,_0x308171);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a75_0x4e91bd(0x20d)]=void 0x0;const common_1=require(a75_0x4e91bd(0x207)),core_1=require(a75_0x4e91bd(0x1f7)),lodash_1=require(a75_0x4e91bd(0x1ff)),services_1=require(a75_0x4e91bd(0x211));function a75_0x3553(_0x5713eb,_0x1e6078){return a75_0x3553=function(_0x1801ca,_0x355322){_0x1801ca=_0x1801ca-0x1e8;let _0x9c5fd6=a75_0x1801[_0x1801ca];return _0x9c5fd6;},a75_0x3553(_0x5713eb,_0x1e6078);}let RoleGuard=class RoleGuard{constructor(_0x446f87,_0x2c521f){const _0x5d11b8=a75_0x4e91bd;this[_0x5d11b8(0x1f0)]=_0x446f87,this[_0x5d11b8(0x201)]=_0x2c521f;}async[a75_0x4e91bd(0x20a)](_0x5acefe){const _0x1c71cc=a75_0x4e91bd,_0x41e925=this[_0x1c71cc(0x1f0)][_0x1c71cc(0x1f3)]('roles',_0x5acefe['getHandler']());if(!_0x41e925)return!![];const _0x44f19f=_0x5acefe[_0x1c71cc(0x212)]()[_0x1c71cc(0x1fb)]();if(!_0x44f19f['headers'][_0x1c71cc(0x1fa)])return![];const _0x25549c=this[_0x1c71cc(0x201)][_0x1c71cc(0x1f6)](_0x44f19f[_0x1c71cc(0x1fe)][_0x1c71cc(0x1fa)]);if(!_0x25549c)return![];const _0x816b21=_0x44f19f['user']||await this['authService'][_0x1c71cc(0x1fd)](_0x44f19f[_0x1c71cc(0x1fe)][_0x1c71cc(0x1fa)]);if(!_0x816b21||_0x816b21[_0x1c71cc(0x20f)]!==_0x1c71cc(0x205))return![];_0x44f19f[_0x1c71cc(0x20b)]=_0x44f19f['user']||_0x816b21,_0x44f19f[_0x1c71cc(0x210)]=_0x44f19f['authUser']||_0x25549c,_0x44f19f[_0x1c71cc(0x1ec)]=_0x44f19f[_0x1c71cc(0x1ec)]||_0x44f19f[_0x1c71cc(0x1fe)]['authorization'];if(_0x816b21[_0x1c71cc(0x206)]&&_0x41e925[_0x1c71cc(0x1ef)](_0x1c71cc(0x213)))return!![];const _0xdc1f60=lodash_1['intersection'](_0x816b21[_0x1c71cc(0x202)],_0x41e925);return _0xdc1f60['length']>0x0;}};RoleGuard=__decorate([common_1['Injectable'](),__metadata(a75_0x4e91bd(0x209),[core_1[a75_0x4e91bd(0x1ea)],services_1['AuthService']])],RoleGuard),exports[a75_0x4e91bd(0x20d)]=RoleGuard;